%Enabling adaptive multimedia applications/systems.

The research goal of this thesis is to discuss congestion control for real-
time media. To achieve a suitable end-user experience, a multimedia
system\footnote{the transmitting endpoint or a classifier in the network} can:
1) associate a DiffServ Code Point (DSCP)~\cite{rfc2474} to the media packets;
therby, enabling Quality of Service (QoS). Using DSCP poses some challenges,
which are discussed in Section~\ref{rg.ch.dscp}. 2) instruct the encoder to
modify the encoding rate to a certain target rate. To achieve media rate-
adaption the endpoint needs to monitor and respond to congestion cues.
Additionally, we  discuss requirements for media rate-adaptation.


\section{Taxonomy of Multimedia Communication Systems}
%definition of Multimedia System

The real-time multimedia ecosystem is an interconnection of several
components. These components are discussed below:

\textbf{Endpoint}: is the networked host at which the media flow is initiated
or terminated and is typically identified by its IP address(es).

% or in the local area by its MAC address. the MAC address may appear in the 
% CNAME SDES item. rfc6222?

\textbf{Multimedia Device}: captures multimedia content, for example a camera
or microphone, in a raw format (e.g., PCM, YUV, RGB). Some devices are capable
of encoding the raw frames into compressed media using a codec (e.g., Opus,
AMR, H.263, H.264, VP8) implemented in the hardware (silicon) or as a software
library (e.g., x264, libvpx).

%TODO: missing refs for the above acronyms.

\textbf{Multimedia Application}: is a software program running on an endpoint
that contains the logic for rendering the received multimedia streams,
discovering, configuring, enabling and disabling the multimedia device(s). It
also stores the user's preferences and application settings (typically, set by
the developer or the multimedia service provider), it uses these stored
settings to adjust the encoder settings (frame rate, frame size), adjust the
network parameters (size of dejitter buffer, enable or disable RTP flows,
congestion control, etc).

\textbf{Multimedia System}: is the combination of a multimedia application,
controlling one or more multimedia device on an endpoint.

\textbf{Point-to-point (PtP) communication}: media traffic flows between two
endpoints on the Internet, i.e., these are bidirectional unicast flows.

\textbf{Middleboxes}: are network devices through which the media packets
flow. These devices may be Network Address Translation (NAT) devices,
firewalls, Session Border Controller (SBC), routers with limited capacity or
queues.

\textbf{Multipoint Control Unit (MCU)}: is an endpoint that acts as a bridge
in many to many conferencing system. This is an alternative network
architecture to a full-mesh system in which an endpoint sends its media stream
to every other endpoint in the conference. Alternatively, the MCU acts as the
terminating endpoint and each endpoint only sends its media stream  to the MCU
instead of every participant. The MCU on receiving the individual streams can
behave like an RTP Mixer and output a single stream (e.g., audio or composited
video).

\textbf{Operating Environment}: real-time multimedia traffic is
transmitted using best-effort IP networks that consists of paths with varying
link properties. The variation may be due to properties of the link itself
(for e.g., wireless links: WLAN, 3G, LTE) or due to varying amounts of cross-
traffic on a bottleneck link.

 {\color{red} TODO: why or put these terminologies in context of the thesis?}


\section{Challenges with DSCP Markings}
\label{rg.ch.dscp}

DiffServ assigns each data packet to a traffic class on a hop-by-hop basis and
the routers manage each traffic class differently, thereby some traffic
classes receive preferential treatment (e.g., lower delay, lower losses) in
the network~\cite{rfc2475}. The routers overcome congestion between traffic
classes by implementing \emph{priority queuing}, \emph{fair queuing}, or
\emph{weighted fair queuing (WFQ)}~\cite{rfc4594}; for congestion within the
same traffic class the router discards packets using \emph{tail drop} or
\emph{Random Early Detection (RED)}~\cite{Floyd:RED}.

Consequently, DiffServ needs to be implemented on every router along the data
path and configured to have the same forwarding policy, i.e., the routers have
to belong to the same DiffServ administrative domain for the packets to be
treated in exactly the same way at each hop. However, if packets traverses
across DiffServ domains, typically between Internet Service Providers (ISPs),
it is quite possible that the ISPs do not implement a policy for each
corresponding traffic class; when this happens the routers use the default
policy to forward packets, and as a result lose any opportunity of
differentiated service. Especially with video traffic which can be marked in
varying ways depending on the type of application (multicast, broadcast,
streaming, conversational, with each category having its own policy), the ISP
sometimes choose to ignore these different categories for video and chooses
just one and marks all video packets with the same DSCP~\cite{rfc5865}. These
\emph{generic} markings may be contrary to the intended DSCP of the multimedia
system.

% generic markings

% cases where it might work

Despite the above listed challenges, DSCP markings can help in some
environments~\cite{draft.rtcweb.qos}:

\begin{itemize}
	
    \item If the bottleneck link is the broadband router that often connects a
    residential or Small Office/Home Office (SOHO) then the DSCP markings can 
    help in prioritizing the data traffic at this bottleneck.

	\item If the packets traverse a congested wireless link and the service 
	provider did not scrub out the DSCP markings, the markings may help.

\end{itemize}

\section{Enabling Adaptive Multimedia Systems}

In this thesis, we do not rely on the use of DSCP by any entity (endpoint or
middlebox) along the path. We assume that the presence of these markings will
only make the performance of our algorithms better. Consequently, the
endpoints need to implement rate-control (or, congestion control), i.e., the
endpoint needs to monitor the media flows and observe for congestion cues.
Based on these cues, the endpoint may increase or decrease the media encoding
rate\footnote{For the moment it can be assumed that the rate-controller can
placed at either the sender or the receiver.}. We identify three control loops
in~\cite{Singh:control.loops.api}, they are:

\begin{enumerate}

\item \textbf{Codec-Sender}: the codec adapts its encoding rate based on the feedback
from the sender. Unlike elastic traffic, the codec cannot produce the expected
media rate immediately. Therefore, the rate-controller needs to take into
account the timeline in which the codec can produce the new rate. Typically,
the codec can adapt to a lower rate immediately but cannot ramp-up very
quickly.

\item \textbf{Sender-Network}: the sender packetizes media frames and sends
(it may concatenate small audio frames to form a larger packet, or fragment
large video frames into small packets) them over the network to the receiver.
It also collects feedback messages from the receiver that may contain
congestion cues (i.e., variation in RTT, indication for lost or discarded
packets, goodput, jitter, variation in inter-packet interval, etc).

\item \textbf{Network-Receiver}: it has a playout buffer of media data waiting
to be decoded and rendered; discarding packets that arrive late for playout,
and attempting to conceal the missing packets from the observer. It is  also
monitoring the media flow for loss packets, variation in jitter, receiver
rate, goodput, calculate expected rate, etc. and reports these to the sender
to act upon.

\end{enumerate}

If an endpoint can rapidly detect congestion, and a sufficiently low RTT, it
is possible to change the encoding rate quickly to meet the requirements of
the end-to-end path capacity. However in practice, this not always possible
because a) it may take multiple reports or data packets to detect congestion,
b) after detection it takes at least one-way delay (OWD) to report it. We
consider the following scenarios to implement congestion control and evaluate
its performance, these scenarios try to imitate real-world deployment
conditions:

\begin{enumerate}
\item Single media flow on an end-to-end path.
\item Single media flow competing with the similar flows (i.e., all flows are
interactive multimedia).
\item Single media flow competing with multiple long-lived TCP
\item Single media flow competing with bursty TCP.
\end{enumerate}

To evaluate the performance of a congestion control algorithm, it needs to be
tested in various application, network and flow settings. These scenarios
are discussed in more detail in Section~\ref{fw.cc.eval}.

\section{Contribution to Knowledge}

The following are the main contributions to knowledge of this dissertation:

\begin{itemize}

\item A criteria to evaluate multimedia congestion control algorithms in
diverse usage scenarios and network topologies. These standardized scenarios
form the basis of the performance evaluation in all our papers and improves
the process of comparing our proposed solutions.

\item A mechanism to implement a rudimentary congestion control (circuit-
breaker) that aborts communication when it encounters congestion. By
implementing such a mechanism the endpoints limit the impact of a non-adaptive
media flow on other elastic traffic.

\item A study on implementing the congestion controller for interactive
multimedia at the sender, or receiver.  Additionally, we also look at the
possibility of reacting to congestion cues sent by network elements in the
media path.

\item A method to choose the best error-resilience scheme from a suite of
error-resilience mechanisms. Consequently, we also propose a method to perform
congestion control using Forward Error Correction (FEC) or redundant packets.

\item A mechanism to use multiple interfaces to send and receive multimedia
data. We also propose a scheduling algorithm that takes into account the
variability in path characteristics and availability of diverse paths. 

\item A mechanism to create congestion maps, i.e., associate throughput to 
geo-location. In order to detect areas of good and poor connectivity, to 
enable adaptive media delivery in mobile wireless (LTE) networks.

{\color{red} TODO: complete this list.}

\end{itemize}